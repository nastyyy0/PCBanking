<Window x:Class="WpfApp1.HomeWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:oxy="http://oxyplot.org/wpf"       
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        Style="{StaticResource {x:Type Window}}"
        Title="HomeWindow" Height="600" Width="900" MinWidth="700" MinHeight="500"
        WindowStartupLocation="CenterScreen"
        SizeToContent="Manual">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto" MinHeight="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Верхняя полоса -->
        <Border Background="Transparent" Margin="5,0,5,5">
            <TextBlock Text=".YaBank." 
                       FontSize="40"
                       Foreground="White" 
                       FontWeight="Bold"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"
                       Margin="5,5,5,0"/>
        </Border>

        <!-- Панель навигации -->
        <StackPanel Grid.Row="1" Height="50" Orientation="Horizontal" HorizontalAlignment="Center" Background="Transparent" Width="Auto">
            <StackPanel.Resources>
                <!-- Наследуем от глобального стиля кнопки и добавляем ширину -->
                <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                    <Setter Property="Width" Value="120"/>
                </Style>
            </StackPanel.Resources>

            <Button x:Name="CardsButton" Content="Мои карты" Click="CardsButton_Click" Margin="5"/>
            <Button x:Name="OperationButton" Content="Операции" Click="OperationButton_Click" Margin="5"/>
            <Button x:Name="HistoryButton" Content="История" Click="HistoryButton_Click" Margin="5"/>
            <Button x:Name="SettingsButton" Content="Настройки" Click="SettingsButton_Click" Margin="5"/>
            <Button x:Name="LogoutButton" Content="Выход" Click="LogoutButton_Click" Margin="5"/>
        </StackPanel>

        <!-- Основное содержимое -->
        <ContentControl x:Name="MainContent" Grid.Row="2"/>

        <Grid Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Row="0" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top">
                <!-- Отрисовка карты -->
                <Canvas x:Name="CardCanvas" Width="270" Height="150" Margin="0,10">
                    <Rectangle x:Name="CardBackground" Width="270" Height="150" RadiusX="20" RadiusY="20"
                        Fill="LightGray" Stroke="DarkGray" StrokeDashArray="4 2" />

                    <TextBlock x:Name="CardNameText"
                        Canvas.Left="20" Canvas.Top="20"
                        FontSize="18" FontWeight="Bold" Foreground="White" />

                    <TextBlock x:Name="CardNumberText"
                        Canvas.Left="20" Canvas.Top="70"
                        FontSize="16" Foreground="White" />

                    <TextBlock x:Name="CardHolderText"
                        Canvas.Left="20" Canvas.Top="120"
                        FontSize="14" Foreground="White" />

                    <TextBlock x:Name="CardBalanceText"
Canvas.Left="150" Canvas.Top="115"
Width="100" Height="25"
FontSize="14"
Foreground="White"
TextAlignment="Right"/>

                    <Button x:Name="AddCardButton"
                        Width="80" Height="80"
                        Content="+" FontSize="40"
                        Background="Transparent" BorderBrush="Gray"
                        Foreground="DarkSlateGray" FontWeight="Bold"
                        Cursor="Hand"
                        Canvas.Left="95" Canvas.Top="25"
                        Click="AddCardButton_Click"
                        Visibility="Collapsed"/>
                </Canvas>

                <!-- Выбор карты -->
                <ComboBox x:Name="PaymentCardComboBox"
                    Width="200"
                    Margin="0,10"
                    SelectionChanged="PaymentCardComboBox_SelectionChanged"
                    DisplayMemberPath="CardName"
                    Visibility="Collapsed" />
            </StackPanel>

            <StackPanel Grid.Row="1" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Top" >
                <TextBlock Text="Статистика расходов" FontSize="16" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>

                <oxy:PlotView x:Name="PieChartView" Height="200" Width="300" Background="Transparent"/>

                <StackPanel x:Name="NoTransactionsPanel" Visibility="Collapsed" HorizontalAlignment="Center">
                    <TextBlock Text="Транзакции отсутствуют" 
                        Foreground="White" FontSize="14" FontWeight="SemiBold" 
                        HorizontalAlignment="Center" 
                         Margin="0,70,0,10"/>
                    <Button Content="+" Width="35" Height="35" FontSize="24" FontWeight="Bold"
                        HorizontalAlignment="Center" VerticalContentAlignment="Center"
                        Click="AddTransactionButton_Click"/>
                </StackPanel>
            </StackPanel>

            <Border Grid.Column="1" Grid.Row="0" 
                    Padding="20" 
                    CornerRadius="10" 
                    Margin="10"
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Top">

                <StackPanel Width="260">
                    <!-- Заголовок -->
                    <TextBlock Text="Особое предложение!" 
                   FontSize="18" 
                   FontWeight="Bold" 
                   Foreground="White" 
                   Margin="0,0,0,10" 
                   TextAlignment="Center"/>

                    <!-- Описание -->
                    <TextBlock Text="Откройте премиальный банковский счёт и получите до 5% кэшбэка на все покупки." 
                   FontSize="14" 
                   Foreground="WhiteSmoke" 
                   TextWrapping="Wrap" 
                   Margin="0,0,0,20" 
                   TextAlignment="Center"/>

                    <!-- Кнопка -->
                    <Button Content="Подробнее" 
                    Foreground="White" 
                    FontWeight="SemiBold"  
                    Cursor="Hand"
                    BorderThickness="0"
                    Width="120"
                    HorizontalAlignment="Center"
                    Click="PromoButton_Click"/>
                </StackPanel>
            </Border>

            <oxy:PlotView x:Name="CurrencyChartView"
                  Grid.Row="1"
                  Grid.Column="1"
                  Margin="10,-10,20,10"
                  Background="Transparent"/>

            <StackPanel Grid.Column="2" Grid.Row="0" Margin="10" VerticalAlignment="Top" Orientation="Vertical">
                <TextBlock Text="Конвертер валют" Foreground="White" FontWeight="Bold" FontSize="14" Margin="0,0,0,10" />

                <ComboBox x:Name="FromCurrencyComboBox" Margin="0,0,0,5" Width="250" Height="25">
                    <ComboBoxItem Content="USD"/>
                    <ComboBoxItem Content="BYN"/>
                    <ComboBoxItem Content="EUR"/>
                    <ComboBoxItem Content="RUB"/>
                </ComboBox>

                <ComboBox x:Name="ToCurrencyComboBox" Margin="0,0,0,5" Width="250" Height="25">
                    <ComboBoxItem Content="USD"/>
                    <ComboBoxItem Content="BYN"/>
                    <ComboBoxItem Content="EUR"/>
                    <ComboBoxItem Content="RUB"/>
                </ComboBox>

                <Grid Margin="0,0,0,15">
                    <TextBox x:Name="AmountTextBox" Width="250" Height="25"
                 GotFocus="TextBox_GotFocus" LostFocus="TextBox_LostFocus"
                 HorizontalAlignment="Left"/>
                    <TextBlock Text="Введите сумму"
                   Foreground="Gray"
                   IsHitTestVisible="False"
                   x:Name="AmountPlaceholder"
                   VerticalAlignment="Center"
                   Margin="5,0,0,0"
                   Visibility="Visible"/>
                </Grid>

                <Button Content="Конвертировать"
                Click="ConvertCurrencyButton_Click"
                Width="120" Foreground="White" />

                <TextBlock x:Name="ResultTextBlock"
               Foreground="White"
               FontWeight="SemiBold"
               Margin="0,10,0,0"
               TextWrapping="Wrap"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
